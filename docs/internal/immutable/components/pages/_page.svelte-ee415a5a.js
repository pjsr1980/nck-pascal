import{S as ft,i as ht,s as ct,k as w,q as x,a as L,l as m,m as F,r as I,h as g,c as N,n as o,b as at,G as c,I as q,J as j,K as D,B as rt,L as ot,M as _t,u as lt}from"../../chunks/index-c3785617.js";function z(f){return f+7>>3}const vt=[255,1,3,7,15,31,63,127];class M{constructor(s){this._nbits=s,this._data=new Uint8Array(z(s))}clone(){let s=new M(this._nbits);return s._data=new Uint8Array(this._data),s}get nbits(){return this._nbits}get nbytes(){return z(this._nbits)}setAll(s){s?this._data.fill(255):this._data.fill(0)}get(s){let r=!1;return s>=0&&s<this._nbits&&(r=(this._data[s>>3]&1<<(s&7))!=0),r}set(s,r){s>=0&&s<this._nbits&&(r?this._data[s>>3]|=1<<(s&7):this._data[s>>3]&=~(1<<(s&7)))}countTrue(){let s=0,r=0,l=this._nbits;for(;l>=8;){let e=this._data[r];for(let i=0;i<8;i++)e&1<<i&&s++;l-=8,r++}if(l>0){let e=this._data[r];for(let i=0;i<l;i++)e&1<<i&&s++}return s}countFalse(){return this._nbits-this.countTrue()}getTrue(){let s=[],r=0,l=this._nbits;for(;l>=8;){let e=this._data[r];for(let i=0;i<8;i++)e&1<<i&&s.push(r*8+i);l-=8,r++}if(l>0){let e=this._data[r];for(let i=0;i<l;i++)e&1<<i&&s.push(r*8+i)}return s}getFalse(){let s=[],r=0,l=this._nbits;for(;l>=8;){let e=this._data[r];for(let i=0;i<8;i++)e&1<<i||s.push(r*8+i);l-=8,r++}if(l>0){let e=this._data[r];for(let i=0;i<l;i++)e&1<<i||s.push(r*8+i)}return s}toString(){let s=[],r=0,l=this._nbits;for(;l>=8;){let e=this._data[r];for(let i=0;i<8;i++)e&1<<i?s.push("1"):s.push("0");l-=8,r++}if(l>0){let e=this._data[r];for(let i=0;i<l;i++)e&1<<i?s.push("1"):s.push("0")}return s.join("")}equal(s){if(this._nbits!=s._nbits)return!1;if(this._nbits==0)return!0;let r=z(this._nbits)-1;for(let e=0;e<r;e++)if(this._data[e]!=s._data[e])return!1;let l=vt[this._nbits&7];return(this._data[r]&l)==(s._data[r]&l)}}class bt{constructor(s){this._n=0,this._buf=[],s&&this._bufferFill(s)}get N(){return this._n}set N(s){this._bufferFill(s)}nCk(s,r){return s>this._n||r>s||this._n<=0?0n:this._buf[this._bufferPos(s,r)]}reset(){this._n=0,this._buf=[]}map(s,r){return s*(s+1)+r}unmap(s){let r=Math.sqrt(4*s+1)-1>>1;return{n:r,k:s-(r+r*r)}}_bufferPos(s,r){let l=s>>1,e=s+1>>1;return r>l&&(r=s-r),(l*(l+1)+e*(e+1)>>1)+r}_bufferFill(s){if(s<=this._n)return;let r=this._n<2?2:this._n+1;for(this._bufferPos(s+1,0),this._n<2&&(this._buf[0]=1n,this._buf[1]=1n),this._n=s;r<=s;r++){let l=r>>1;this._buf[this._bufferPos(r,0)]=1n;for(let e=1;e<=l;e++)this._buf[this._bufferPos(r,e)]=this._buf[this._bufferPos(r-1,e-1)]+this._buf[this._bufferPos(r-1,e)]}}}function dt(f,s,r,l){if(s<0||r<0||r>s)return;let e={result:new M(s),tr:0,tc:0,rv:0,l1:!0};e.result.setAll(!1),l&&(e.pascal=l,l.N=s,e.row=1n);let i=new nt(s+1),a=!1,n=0,t=i.at(n);if(t.il=!0,t.st=0,t.tr=s,t.tc=r,t.rv=-1,r==0){f.onResult(e);return}for(;n>=0;)if(a)n-=1,a=!1;else if(t=i.at(n),t.il)if(t.st==0)t.tc==0||t.tr==0?a=!0:(t.st=1,t.tr-=1,t.tc-=1,t.rv+=1);else if(t.st==1){if(t.st=2,e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,e.result.set(e.rv,!0),f.goTrue(e))if(t.tc==0)f.onResult(e);else{n++;let u=i.at(n);u.st=0,u.il=!0,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}}else if(t.st==2)if(t.st=3,e.result.set(t.rv,!1),t.tr>t.tc)if(e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,f.goFalse(e)){l&&e.row&&(e.row+=l.nCk(t.tr,t.tc)),n++;let u=i.at(n);u.st=0,u.il=!1,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}else a=!0;else a=!0;else l&&e.row&&(e.row-=l.nCk(t.tr,t.tc)),a=!0;else if(t.st==0)t.tr==0?a=!0:(t.st=1,t.tr-=1,t.rv+=1);else if(t.st==1){if(t.st=2,e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,e.result.set(e.rv,!0),f.goTrue(e))if(t.tc==0)f.onResult(e);else{n++;let u=i.at(n);u.st=0,u.il=!0,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}}else if(t.st==2)if(t.st=3,e.result.set(t.rv,!1),t.tr>t.tc)if(e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,f.goFalse(e)){l&&e.row&&(e.row+=l.nCk(t.tr,t.tc)),n++;let u=i.at(n);u.st=0,u.il=!1,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}else a=!0;else a=!0;else l&&e.row&&(e.row-=l.nCk(t.tr,t.tc)),a=!0}function wt(f,s,r,l){if(s<0||r>s)return;let e={result:new M(s),tr:0,tc:0,rv:0,l1:!1};e.result.setAll(!0),l&&(e.pascal=l,l.N=s,e.row=1n);let i=new nt(s+1),a=!1,n=0,t=i.at(n);if(t.il=!1,t.st=0,t.tr=s,t.tc=r,t.rv=-1,s==r){f.onResult(e);return}for(;n>=0;)if(a)n-=1,a=!1;else if(t=i.at(n),t.il)if(t.st==0)t.tc==0||t.tr==0?a=!0:(t.st=1,t.tr-=1,t.tc-=1,t.rv+=1);else if(t.st==1){if(t.st=2,e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,e.result.set(e.rv,!1),f.goFalse(e))if(t.tc==t.tr)f.onResult(e);else{n++;let u=i.at(n);u.st=0,u.il=!1,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}}else if(t.st==2)if(t.st=3,e.result.set(t.rv,!0),t.tr>=t.tc)if(e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,f.goTrue(e)){l&&e.row&&(e.row+=l.nCk(t.tr,t.tc)),n++;let u=i.at(n);u.st=0,u.il=!0,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}else a=!0;else a=!0;else l&&e.row&&(e.row-=l.nCk(t.tr,t.tc)),a=!0;else if(t.st==0)t.tr==0?a=!0:(t.st=1,t.tr-=1,t.rv+=1);else if(t.st==1){if(t.st=2,e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,e.result.set(e.rv,!1),f.goFalse(e))if(t.tc==t.tr)f.onResult(e);else{n++;let u=i.at(n);u.st=0,u.il=!1,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}}else if(t.st==2)if(t.st=3,e.result.set(t.rv,!0),t.tr>=t.tc)if(e.tr=t.tr,e.tc=t.tc,e.rv=t.rv,f.goTrue(e)){l&&e.row&&(e.row+=l.nCk(t.tr,t.tc)),n++;let u=i.at(n);u.st=0,u.il=!0,u.rv=t.rv,u.tc=t.tc,u.tr=t.tr}else a=!0;else a=!0;else l&&e.row&&(e.row-=l.nCk(t.tr,t.tc)),a=!0}const C=6;class nt{constructor(s){let r=s>>C,l=s-r*(1<<C);this._n=s,this._cnt=l>0?r+1:r,this._stk=new Array(this._cnt);let e=this._cnt-1;for(let i=0;i<e;i++){this._stk[i]=new Array(1<<C);for(let a=0;a<1<<C;a++)this._stk[i][a]={st:0,il:!1,rv:0,tr:0,tc:0}}this._stk[e]=new Array(l>0?l:1<<C);for(let i=0;i<this._stk[e].length;i++)this._stk[e][i]={st:0,il:!1,rv:0,tr:0,tc:0}}at(s){let r=s>>C,l=s-r*(1<<C);return this._stk[r][l]}}function it(f,s,r){const l=f.slice();return l[13]=s[r],l}function ut(f){let s,r,l=f[13].row+"",e,i,a=f[13].value+"",n,t;return{c(){s=w("li"),r=w("span"),e=x(l),i=L(),n=x(a),t=L(),this.h()},l(u){s=m(u,"LI",{});var v=F(s);r=m(v,"SPAN",{class:!0});var p=F(r);e=I(p,l),p.forEach(g),i=N(v),n=I(v,a),t=N(v),v.forEach(g),this.h()},h(){o(r,"class","row svelte-12w5h57")},m(u,v){at(u,s,v),c(s,r),c(r,e),c(s,i),c(s,n),c(s,t)},p(u,v){v&1&&l!==(l=u[13].row+"")&&lt(e,l),v&1&&a!==(a=u[13].value+"")&&lt(n,a)},d(u){u&&g(s)}}}function mt(f){let s,r,l,e,i,a,n,t,u,v,p,S,U,d,B,E,T,G,y,H,A,J,O,K,P,X,Q,R=f[0],b=[];for(let _=0;_<R.length;_+=1)b[_]=ut(it(f,R,_));return{c(){s=w("div"),r=w("div"),l=w("h1"),e=x("nck-pascal"),i=L(),a=w("label"),n=x("N:"),t=L(),u=w("input"),v=L(),p=w("label"),S=x("K:"),U=L(),d=w("input"),B=L(),E=w("label"),T=x("L1:"),G=L(),y=w("input"),H=L(),A=w("button"),J=x("Calculate"),O=L(),K=w("div"),P=w("ul");for(let _=0;_<b.length;_+=1)b[_].c();this.h()},l(_){s=m(_,"DIV",{class:!0});var k=F(s);r=m(k,"DIV",{class:!0});var h=F(r);l=m(h,"H1",{class:!0});var V=F(l);e=I(V,"nck-pascal"),V.forEach(g),i=N(h),a=m(h,"LABEL",{for:!0,class:!0});var W=F(a);n=I(W,"N:"),W.forEach(g),t=N(h),u=m(h,"INPUT",{type:!0,min:!0,max:!0,id:!0,class:!0}),v=N(h),p=m(h,"LABEL",{for:!0,class:!0});var Y=F(p);S=I(Y,"K:"),Y.forEach(g),U=N(h),d=m(h,"INPUT",{type:!0,min:!0,max:!0,id:!0,class:!0}),B=N(h),E=m(h,"LABEL",{for:!0,class:!0});var $=F(E);T=I($,"L1:"),$.forEach(g),G=N(h),y=m(h,"INPUT",{type:!0,id:!0}),H=N(h),A=m(h,"BUTTON",{class:!0});var tt=F(A);J=I(tt,"Calculate"),tt.forEach(g),h.forEach(g),O=N(k),K=m(k,"DIV",{class:!0});var et=F(K);P=m(et,"UL",{class:!0});var st=F(P);for(let Z=0;Z<b.length;Z+=1)b[Z].l(st);st.forEach(g),et.forEach(g),k.forEach(g),this.h()},h(){o(l,"class","svelte-12w5h57"),o(a,"for","N"),o(a,"class","svelte-12w5h57"),o(u,"type","number"),o(u,"min","0"),o(u,"max","100"),o(u,"id","N"),o(u,"class","svelte-12w5h57"),o(p,"for","K"),o(p,"class","svelte-12w5h57"),o(d,"type","number"),o(d,"min","0"),o(d,"max","100"),o(d,"id","K"),o(d,"class","svelte-12w5h57"),o(E,"for","L1"),o(E,"class","svelte-12w5h57"),o(y,"type","checkbox"),o(y,"id","L1"),o(A,"class","svelte-12w5h57"),o(r,"class","header svelte-12w5h57"),o(P,"class","svelte-12w5h57"),o(K,"class","result svelte-12w5h57"),o(s,"class","main svelte-12w5h57")},m(_,k){at(_,s,k),c(s,r),c(r,l),c(l,e),c(r,i),c(r,a),c(a,n),c(r,t),c(r,u),q(u,f[1]),c(r,v),c(r,p),c(p,S),c(r,U),c(r,d),q(d,f[2]),c(r,B),c(r,E),c(E,T),c(r,G),c(r,y),y.checked=f[3],c(r,H),c(r,A),c(A,J),c(s,O),c(s,K),c(K,P);for(let h=0;h<b.length;h+=1)b[h].m(P,null);X||(Q=[j(u,"input",f[5]),j(d,"input",f[6]),j(y,"change",f[7]),j(A,"click",f[4])],X=!0)},p(_,[k]){if(k&2&&D(u.value)!==_[1]&&q(u,_[1]),k&4&&D(d.value)!==_[2]&&q(d,_[2]),k&8&&(y.checked=_[3]),k&1){R=_[0];let h;for(h=0;h<R.length;h+=1){const V=it(_,R,h);b[h]?b[h].p(V,k):(b[h]=ut(V),b[h].c(),b[h].m(P,null))}for(;h<b.length;h+=1)b[h].d(1);b.length=R.length}},i:rt,o:rt,d(_){_&&g(s),ot(b,_),X=!1,_t(Q)}}}function pt(f,s,r){let l=[],e="6",i="2",a=!0,n=!1,t=!0;class u{constructor(){}onResult(T){T.row&&l.push({row:T.row,value:T.result.toString()})}goFalse(T){return!n}goTrue(T){return!n}}const v=new bt,p=new u;async function S(){if(!n){if(!t)for(n=!0;!t;)setTimeout(()=>{},1e3);n=!1,r(0,l=[]),t=!1,a?dt(p,+e,+i,v):wt(p,+e,+i,v),t=!0}}S();function U(){e=D(this.value),r(1,e)}function d(){i=D(this.value),r(2,i)}function B(){a=this.checked,r(3,a)}return[l,e,i,a,S,U,d,B]}class kt extends ft{constructor(s){super(),ht(this,s,pt,mt,ct,{})}}export{kt as default};
